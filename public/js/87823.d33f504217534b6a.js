(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87823],{23888:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var s=i(39762);function n(){let{HearstPlayerProvider:e,NO_VALID_SOURCE:t,VideoStreamingProviders:i,formatDuration:n,htmlVideoFn:a,swapClasses:r,NETWORK_ERROR_MESSAGE:l}=s.A.getModule("hearst-player-provider");return{HearstPlayerProvider:e,NO_VALID_SOURCE:t,VideoStreamingProviders:i,formatDuration:n,htmlVideoFn:a,swapClasses:r,NETWORK_ERROR_MESSAGE:l}}},52266:(e,t,i)=>{"use strict";i.d(t,{cs:()=>S});var s=Object.create,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,l=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,d=(e,t,i,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of r(t))o.call(e,l)||l===i||n(e,l,{get:()=>t[l],enumerable:!(s=a(t,l))||s.enumerable});return e},h=(e,t,i)=>(i=null!=e?s(l(e)):{},d(!t&&e&&e.__esModule?i:n(i,"default",{value:e,enumerable:!0}),e)),u=((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports))((e,t)=>{"object"==typeof e&&"u">typeof t?t.exports=function(e,t,i,s,n){for(t=t.split?t.split("."):t,s=0;s<t.length;s++)e=e?e[t[s]]:n;return e===n?i:e}:"function"==typeof define&&i.amdO?define(function(){return function(e,t,i,s,n){for(t=t.split?t.split("."):t,s=0;s<t.length;s++)e=e?e[t[s]]:n;return e===n?i:e}}):e.dlv=function(e,t,i,s,n){for(t=t.split?t.split("."):t,s=0;s<t.length;s++)e=e?e[t[s]]:n;return e===n?i:e}}),c=h(u(),1),g=(e=>(e.Video="video",e.Playlist="playlist",e.Generic="generic",e))(g||{}),p=(e=>(e[e.SLIDE=1]="SLIDE",e[e.SOCIAL=2]="SOCIAL",e[e.LEDE=3]="LEDE",e[e.BODY_MEDIA=4]="BODY_MEDIA",e[e.MARQUEE=5]="MARQUEE",e[e.SPONSORED_MARQUEE=6]="SPONSORED_MARQUEE",e[e.PREVIEW=7]="PREVIEW",e[e.ASSOCIATED_IMAGE=8]="ASSOCIATED_IMAGE",e[e.ASSOCIATED_VIDEO=9]="ASSOCIATED_VIDEO",e[e.CUSTOM_PREVIEW_IMAGE=10]="CUSTOM_PREVIEW_IMAGE",e[e.CONTENT_TESTING=11]="CONTENT_TESTING",e[e.INDEX=12]="INDEX",e[e.SECTION_VIDEO=13]="SECTION_VIDEO",e[e.VIDEO_HUB=14]="VIDEO_HUB",e[e.MEDIA_ROLE_PINTEREST=16]="MEDIA_ROLE_PINTEREST",e[e.OFF_PLATFORM=16]="OFF_PLATFORM",e[e.CUSTOM_PROMO=17]="CUSTOM_PROMO",e[e.FEED=18]="FEED",e[e.GHOST_SLIDE=19]="GHOST_SLIDE",e[e.SPOTLIGHT_MARQUEE=20]="SPOTLIGHT_MARQUEE",e[e.EMBEDDED_CONTENT=21]="EMBEDDED_CONTENT",e))(p||{}),m=(e=>(e.Video="video",e.Embed="embed",e.Playlist="playlist",e.Unknown="unknown",e))(m||{}),v=(e=>(e.MP4="video/mp4",e.AVI="video/avi",e.OGG="video/ogg",e.M3U8="m3u8",e))(v||{}),y=class e{constructor(e){this.videoMedia=e,this.title=e.title,this.shortTitle=e.short_title,this.description=e.description,this.duration=e.duration,this.poster=e.cropped_preview_image,this.source={title:e.source.title},this.sources=this.getSources(),this.id=e.id}getSources(){return this.videoMedia.transcodings.map(t=>({src:t.full_url,type:e.getVideoType(t),displayName:t.display_name,presetName:t.preset_name}))}static getVideoType(e){return"apple_m3u8"===e.mapped_preset_name?v.M3U8:v.MP4}},w=h(u(),1);function A(e){return function({isDisabled:e,publishFrom:t,publishTo:i}){let s,n,a,r;return!(e||i&&(s=new Date(i),n=new Date,s&&n>s))&&(a=new Date(t),r=new Date,!!a&&r>a)}({isDisabled:(0,w.default)(e,"is_disabled"),publishFrom:(0,w.default)(e,"publish_from"),publishTo:(0,w.default)(e,"publish_to")})}var E=class{constructor(e,t){this._playlist=null,this.embedNitehawkResponse=e,this.settings=t,this._videos=this.parseVideos(),this.embedId=e.id,this.isSingleVideo||(this._playlist={id:e.id,videos:this._videos})}getVideos(){return this.isPlaylist||this.isRelatedPlaylist?(0,c.default)(this.embedNitehawkResponse,"media.videos",[]):[(0,c.default)(this.embedNitehawkResponse,"media",{})]}parseVideos(){return this.getVideos().filter(e=>A(e)).map(e=>new y(e))}get video(){return this._videos[0]}get playlist(){return this._playlist}set playlist(e){this._playlist=e,this._videos=e.videos}get isPlaylist(){return"playlist"===(0,c.default)(this.embedNitehawkResponse,"media_type",!1)}get isRelatedPlaylist(){return(0,c.default)(this.embedNitehawkResponse,"related",!1)}get isDynamicPlaylist(){return this.isPlaylist&&1===this.playlistType}get playlistType(){return this.isPlaylist?(0,c.default)(this.embedNitehawkResponse,"media.type"):null}get videoId(){return(0,c.default)(this.embedNitehawkResponse,"media.id","")}get embedAspectRatio(){return(0,c.default)(this.embedNitehawkResponse,"aspect_ratio",void 0)}get role(){return(0,c.default)(this.embedNitehawkResponse,"role")}get source(){return(0,c.default)(this.embedNitehawkResponse,"media.source")}get isSingleVideo(){return"video"===(0,c.default)(this.embedNitehawkResponse,"media_type",!1)&&!this.isRelatedPlaylist||!!this.settings.isSingleVideoEmbed}get baseAdTag(){return(0,c.default)(this.embedNitehawkResponse,"site.video_ads.videoConfig.adTag")||(0,c.default)(this.embedNitehawkResponse,"site.ad_tag","")}get videoAdConfig(){return(0,c.default)(this.embedNitehawkResponse,"site.video_ads")}get videoConfigAdTag(){return(0,c.default)(this.embedNitehawkResponse,"site.video_ads.videoConfig.adTag")??null}get embedAdDisabled(){return this.embedNitehawkResponse.ads_disabled}get videoAdsDisabled(){return(0,c.default)(this.embedNitehawkResponse,"media.ads_disabled",!1)}},{error:f}=console;async function b(e){return fetch(e).then(e=>e.json()).catch(e=>f(e))}var P=(e=>(e.development="https://nitehawk.kubefeature.hearstapps.net",e.feature="https://nitehawk.kubefeature.hearstapps.net",e.stage="https://stage-nitehawk.hearst.io",e.prod="https://nitehawk.hearst.io",e.production="https://nitehawk.hearst.io",e))(P||{}),T=(e=>(e.embeds="embeds",e.playlists="playlists",e.videos="videos",e.videohub="videohub",e))(T||{}),C=class{constructor(e){this.playlist=e,this._videos=this.parseVideos()}get title(){return this.playlist.title}get description(){return this.playlist.description}get id(){return this.playlist.id}get videos(){return this._videos}parseVideos(){return(this.playlist.videos||[]).filter(e=>A(e)).map(e=>new y(e))}},_=class e{constructor(t){this.embed=null,this.video=null,this.playlist=null,this.settings=t,this.nitehawkType=t.nitehawkType||"embeds",this._url=t.url||e.globalUrl||function(e="feature"){return P[e]??"https://nitehawk.kubefeature.hearstapps.net"}(t.env||e.globalEnv)}async fetchNitehawkData(){return b(`${this.url}/${this.nitehawkType}/${this.settings.embedId}`)}setup(e){try{switch(this.nitehawkType){case"embeds":this.embed=new E(e,this.settings);break;case"videos":this.video=new y(e);break;case"playlists":this.playlist=new C(e)}}catch(t){let{error:e}=console;return e("Failed to setup Nitehawk",t),null}return this}static get globalUrl(){return e._globalUrl}static set globalUrl(t){e._globalUrl=t}get url(){return this._url}set url(e){this._url=e}static get globalEnv(){return e._globalEnv}static set globalEnv(t){e._globalEnv=t}};_._globalEnv="feature";var S=_},44386:(e,t,i)=>{"use strict";i.d(t,{e:()=>h,f:()=>u});var s,n=i(47230);function a(e){return new Promise((t,i)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>i(e.error)})}function r(e,t){let i=indexedDB.open(e);i.onupgradeneeded=()=>i.result.createObjectStore(t);let s=a(i);return(e,i)=>s.then(s=>i(s.transaction(t,e).objectStore(t)))}function l(){return s||(s=r("keyval-store","keyval")),s}var o="video/viewedVideos";async function d(e,t){let i=await function(e=l()){return e("readonly",e=>{var t;if(e.getAllKeys)return a(e.getAllKeys());let i=[];return(t=e=>i.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},a(e.transaction)).then(()=>i)})}(t);if(i.length>50)return function(e=l()){e("readwrite",e=>(e.clear(),a(e.transaction)))}(t),e;{let t=e.reduce((e,t)=>(i.includes(`${o}/${t.id}`)?e.viewed.push(t):e.unwatched.push(t),e),{viewed:[],unwatched:[]});return[...t.unwatched,...t.viewed]}}async function h(e,t){let i=e.playlist?.videos;if((e.isPlaylist||e.isRelatedPlaylist)&&i){if(e.isRelatedPlaylist)return[i[0]].concat(await d(i.slice(1),t));if(e.isDynamicPlaylist)return d(i,t)}return null}function u(e){let t=r("video-db","watched-videos-store"),i;return e.on("playlistitem",()=>{i&&(e.events.unsubscribe(i),i=!1),i=e.events.on(n.a.TimeUpdate,()=>{if(e.currentTime()>5){var s;let n=e.getCurrentVideo();n&&(s=n.id,function(e,t,i=l()){i("readwrite",i=>(i.put(t,e),a(i.transaction)))}(`${o}/${s}`,!0,t)),i&&e.events.unsubscribe(i)}})}),t}},47230:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var s=e=>crypto.getRandomValues(new Uint8Array(e)),n=(e,t,i)=>{let s=(2<<Math.log2(e.length-1))-1,n=-~(1.6*s*t/e.length);return (a=t)=>{let r="";for(;;){let t=i(n),l=0|n;for(;l--;)if((r+=e[t[l]&s]||"").length>=a)return r}}};((e,t=21)=>n(e,0|t,s))("1234567890abcdefghijklmnopqrstuvwxyz",10);var a=(e=>(e.NewInstance="newInstance",e))(a||{}),r=(e=>(e.Abort="abort",e.CanPlay="canplay",e.CanPlayThrough="canplaythrough",e.DurationChange="durationchange",e.Emptied="emptied",e.Ended="ended",e.Error="error",e.LoadedData="loadeddata",e.LoadedMetadata="loadedmetadata",e.LoadStart="loadstart",e.Pause="pause",e.Play="play",e.Playing="playing",e.RateChange="ratechange",e.Resize="resize",e.Seeked="seeked",e.Seeking="seeking",e.Stalled="stalled",e.Suspend="suspend",e.VolumeChange="volumechange",e.Waiting="waiting",e.TimeUpdate="timeupdate",e))(r||{});Object.values(r);var l=(e=>(e.LOG="log",e.INFO="info",e.WARN="warn",e.ERROR="error",e))(l||{}),o=(e=>(e.ALL="*",e))(o||{}),d=(e=>(e.CHROME="Chrome",e.CHROMIUM="Chromium",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e))(d||{})},67536:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var s=Object.defineProperty,n=(e,t,i)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,a=(e,t,i)=>n(e,"symbol"!=typeof t?t+"":t,i)},39078:(e,t,i)=>{"use strict";i.d(t,{b:()=>d});var s=i(47230),n=i(67536),a=class{constructor(e,t){(0,n.a)(this,"intersectionObserver"),(0,n.a)(this,"state"),(0,n.a)(this,"_settings"),(0,n.a)(this,"videoPlayer"),this.videoPlayer=e,this._settings=t,this.state={enabled:!1},this.intersectionObserver=this.addIntersectionObserver()}get settings(){return this._settings}set settings(e){this._settings={...this._settings,...e}}enable(){this.state.enabled=!0}disable(){this.state.enabled=!1}disconnect(){this.state.enabled=!1,this.intersectionObserver.disconnect()}playerInView(e){"function"==typeof this._settings.playerInView?this._settings.playerInView(this,e):e.play()}playerOutOfView(e){"function"==typeof this._settings.playerOutOfView?this._settings.playerOutOfView(this,e):e.pause()}addIntersectionObserver(){let{intersectionObserverSettings:e}=this.settings||{},t={threshold:.25,...e};return new window.IntersectionObserver(e=>{this.state.enabled&&e.forEach(e=>{e.isIntersecting?this.playerInView(this.videoPlayer):this.playerOutOfView(this.videoPlayer)})},t)}setupInViewListener(){this.state.enabled=!0,this.intersectionObserver.observe(this.videoPlayer.element)}};function r(e,t){t.plugins.get("stickyPlayer")?.state?.enabled||t.pause()}function l(e,t){let i=t.plugins.get("adApi");i?.isAdActive()||i?.isAdLoading()||t.play()}function o(e,t){t.setupInViewListener(),e.events.one("pauseUser",()=>{t.disconnect()}),e.events.one("stickyClose",()=>{t.disconnect(),e.pause()})}function d(e){let t=new a(e,{playerInView:l,playerOutOfView:r});return e.registerPlugin("inView",t),e.settings.autoplay?o(e,t):e.events.one(s.a.Play,()=>{o(e,t)}),t}},23794:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var s=i(39762);function n(){let{StickyPlayer:e,StickyHeader:t,setupHPCStickyPlayer:i}=s.A.getModule("video-player-addons");return{StickyPlayer:e,StickyHeader:t,setupHPCStickyPlayer:i}}},34828:(e,t,i)=>{"use strict";i.d(t,{IV:()=>u,L9:()=>T,X5:()=>P,ei:()=>f,kb:()=>C,lZ:()=>h});var s=Object.defineProperty,n=(e,t,i)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,a=(e,t,i)=>n(e,"symbol"!=typeof t?t+"":t,i),r=e=>crypto.getRandomValues(new Uint8Array(e)),l=(e,t,i)=>{let s=(2<<Math.log2(e.length-1))-1,n=-~(1.6*s*t/e.length);return (a=t)=>{let r="";for(;;){let t=i(n),l=0|n;for(;l--;)if((r+=e[t[l]&s]||"").length>=a)return r}}},o=((e,t=21)=>l(e,0|t,r))("1234567890abcdefghijklmnopqrstuvwxyz",10),d=(e=>(e.NewInstance="newInstance",e))(d||{}),h=(e=>(e.Abort="abort",e.CanPlay="canplay",e.CanPlayThrough="canplaythrough",e.DurationChange="durationchange",e.Emptied="emptied",e.Ended="ended",e.Error="error",e.LoadedData="loadeddata",e.LoadedMetadata="loadedmetadata",e.LoadStart="loadstart",e.Pause="pause",e.Play="play",e.Playing="playing",e.RateChange="ratechange",e.Resize="resize",e.Seeked="seeked",e.Seeking="seeking",e.Stalled="stalled",e.Suspend="suspend",e.VolumeChange="volumechange",e.Waiting="waiting",e.TimeUpdate="timeupdate",e))(h||{}),u="videoPlayerManager",c="videoPlayerInit",g="videoPlaylistUpdated",p=Object.values(h),m={autoplay:!0,muted:!0,controls:!0,loop:!0},v=class{constructor(e){a(this,"eventCallbacks"),a(this,"logger"),this.eventCallbacks={},this.logger=e}on(e,t){let i=o(),s=`${e}|${i}`;return e in this.eventCallbacks?this.eventCallbacks[e][i]=t:this.eventCallbacks[e]={[i]:t},s}one(e,t){let i=this.on(e,e=>{i&&this.unsubscribe(i),t(e)});return i}emit(e,t){return this.logger&&"timeupdate"!==e&&this.logger.log(e,t||{}),e in this.eventCallbacks&&(Object.values(this.eventCallbacks[e]).forEach(i=>{i({type:e,timestamp:new Date().getTime(),...t||{}})}),!0)}unsubscribe(e){let t;let i=-1!==(t=e.lastIndexOf("|"))&&{eventName:e.substring(0,t),callbackKey:e.substring(t+1)};if(!1===i)return!1;let{eventName:s,callbackKey:n}=i;return!!this.eventCallbacks[s]&&n in this.eventCallbacks[s]&&(delete this.eventCallbacks[s][n],!0)}getEventsSubscribedTo(){return Object.keys(this.eventCallbacks).filter(e=>Object.keys(this.eventCallbacks[e]).length>0)}getSubscriptionIds(e){return e in this.eventCallbacks?Object.keys(this.eventCallbacks[e]).map(t=>`${e}|${t}`):[]}unsubscribeFromAll(){this.eventCallbacks={}}},y=class{constructor(e){a(this,"enabled"),a(this,"subscriptions"),a(this,"eventEmitter"),a(this,"_queue"),this.subscriptions=new Set,this.eventEmitter=e,this.enabled=!0,this._queue=[]}get isEnabled(){return this.enabled}get queue(){return this._queue}enqueue(e){this._queue.push(e)}disable(){this.enabled=!1,this.subscriptions.forEach(e=>{this.eventEmitter.unsubscribe(e),this.subscriptions.delete(e)})}flush(){this._queue=[]}subscribe(e){if(!this.enabled)return!1;let t=this.eventEmitter.on(e,e=>this.enqueue(e));return t&&this.subscriptions.add(t),!0}},w=(e=>(e.LOG="log",e.INFO="info",e.WARN="warn",e.ERROR="error",e))(w||{}),A=(e=>(e.ALL="*",e))(A||{}),E=class{constructor({logger:e=null,levels:t=["error","warn"]}={}){a(this,"logger"),a(this,"_levels"),this.logger=e,this._levels=t}get levels(){return this._levels}isLogAllLevel(){return this.levels.includes("log")||this.levels.includes("*")}checkLevel(e){return!!(this.levels?.includes(e)||this.levels?.includes("*"))}process(e,...t){if(this.logger)try{this.logger[e](...t)}catch(e){console.warn("This custom logger call is not supported",...t,e)}else this.checkLevel(e)&&console[e](...t)}log(...e){this.process("log",...e)}info(...e){this.process("info",...e)}warn(...e){this.process("warn",...e)}error(...e){this.process("error",...e)}},f=(e=>(e.CHROME="Chrome",e.CHROMIUM="Chromium",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e))(f||{}),b="";function P(){if("u">typeof window&&""===b){let e=window?.navigator?.userAgent||"",t=/Firefox/i.test(e),i=/Edg/i.test(e),s=/Chromium/i.test(e),n=/Chrome/i.test(e)&&!i&&!s,a=/Safari/i.test(e)&&!n&&!s;if(t)return b="Firefox","Firefox";if(i)return b="Edge","Edge";if(s)return b="Chromium","Chromium";if(n)return b="Chrome","Chrome";if(a)return b="Safari","Safari"}return b}var T=class{constructor(e,t){a(this,"_uuid"),a(this,"_settings"),a(this,"_provider"),a(this,"events"),a(this,"eventQueue"),a(this,"element"),a(this,"logger"),a(this,"_videoWrapper"),a(this,"_plugins"),a(this,"state"),this.logger=new E(t?.loggerSettings),this._uuid=`video-player-${o()}`,this._plugins=new Map,this.element=e,this.element.id=this._uuid,this._settings={...m,...t},this.state={aspectRatio:t.aspectRatio||"16:9"},this._provider=this.settings.provider,this.element.volume=t.volume||0,this.events=new v(this.logger),this.eventQueue=new y(this.events),this._videoWrapper=t.videoWrapper??this.addWrapper(e)}static getBrowser(){return P()}get videoWrapper(){return this._videoWrapper}get uuid(){return this._uuid}get settings(){return this._settings}set settings(e){this._settings={...this._settings,...e}}set provider(e){this._provider=e}get provider(){return this._provider||this._settings.provider}get plugins(){return this._plugins}registerPlugin(e,t){this._plugins.set(e,t)}async play(){return this.settings?.provider?.play()}pause(){this.settings?.provider?.pause()}isPaused(){return this.element.paused}duration(){return this.element.duration}currentTime(){return this.element.currentTime}setCurrentTime(e){this.element.currentTime=e}getCurrentVideo(){return this.settings.provider?.getCurrentVideo()}unmute(e){"number"==typeof e?this.setVolume(e):this.setVolume(1),this.element.muted=!1}mute(){this.setVolume(0),this.element.muted=!0}isMuted(){return this.element.muted||0===this.volume()}volume(){return"number"!=typeof this.element.volume?this.isMuted()?0:1:this.element.volume}setVolume(e){this.element.volume=e}autoplay(e=!1){"boolean"==typeof e&&!0===e?this.element.autoplay=e:"any"===this.settings.autoplay&&this.events.on("loadstart",async()=>{await this.element.play().catch(()=>{this.element.muted=!0,this.play()})})}aspectRatio(e,t=":"){if(e){let[i,s]=e.split(t);if(i&&s){let[t,n]=this.state.aspectRatio;this.videoWrapper.classList.remove(`aspect-ratio-${t}-${n}`),this.videoWrapper.classList.add(`aspect-ratio-${i}-${s}`),this.state.aspectRatio=e}}return this.state.aspectRatio}addWrapper(e){let t=document.createElement("div");return e.parentNode?.insertBefore(t,e),t.appendChild(e),t}setupEvents(){new Set([...p,...this.settings.events?.customEvents||[]]).forEach(e=>{this.element.addEventListener(e,()=>{this.events.emit(e)})})}initPlayer(){this.element?.parentElement?.setAttribute("aria-label","Video Player"),this.setupEvents(),this.autoplay(this.settings.autoplay),this.aspectRatio(this.settings.aspectRatio??this.state.aspectRatio),this.settings?.provider?.setup(this)}on(e,t){return this.events.on(e,t)}unsubscribe(e){return this.events.unsubscribe(e)}destroy(){this.settings?.provider?.destroy()}setVideo(e){"function"==typeof this.settings.provider?.setVideo&&(this.settings.provider?.setVideo(e),this.events.emit(g,{video:e}))}setPlaylist(e,t=0){"function"==typeof this.settings.provider?.setPlaylist&&(this.settings.provider?.setPlaylist(e,t),this.events.emit(g,{playlist:e}))}setPlayerVisibility(e){this.element.style.visibility=e?"visible":"hidden"}},C=class{constructor(){a(this,"_instances",[]),a(this,"events"),a(this,"eventQueue"),this.events=new v,this.eventQueue=new y(this.events),"u">typeof window&&!window[u]&&(window[u]=this),this.events.emit("videoPlayerManagerInit")}registerPlayer(e){this.instances.push(e),this.events.emit("videoPlayerRegistered",{videoPlayer:e})}initPlayerElement(e,t){let i=new T(e,t);return this.registerPlayer(i),this.initPlayer(i),this.events.emit(c,{videoPlayer:i}),i}initPlayer(e){e.initPlayer(),this.events.emit(c,{videoPlayer:e})}get numberOfPlayers(){return this.instances.length}get instances(){return this._instances}}},42477:(e,t,i)=>{"use strict";i.d(t,{M:()=>n,X:()=>d});var s="vTotal",n=class{constructor(e,t){this.videoPlayer=e,this.logger=e.logger,this.viewTimerLimit="number"==typeof t.viewTimerLimit?t.viewTimerLimit:90,this._totalTime=0,this.startTime=null,this.timerEnabled=this.viewTimerLimit>0,this.logger.log("Ad Throttler: Is timer enabled:",this.timerEnabled),this.firstSuccessfulAdRequestMade=!1,this.updateTracking=this.updateTracking.bind(this),this.setupSession(),this.setupListeners(),this.logger.log("Ad Throttler: View Timer Limit initialized")}get totalTime(){return this._totalTime}permitAd(){return this.timerEnabled?this.firstSuccessfulAdRequestMade?(this._totalTime=this.retrieveSessionTotal(this._totalTime),this.totalTime>=this.viewTimerLimit?(this.logger.log(`Ad Throttler: Ad permitted totalTime: ${this.totalTime} >= limit: ${this.viewTimerLimit}`),!0):(this.logger.log(`Ad Throttler: Ad not permitted, totalTime: ${this.totalTime} < limit: ${this.viewTimerLimit}`),!1)):(this.logger.log("Ad Throttler: first ad permitted"),!0):(this.logger.log("Ad Throttler: timer disabled, ad permitted"),!0)}reset(){this.logger.log("Ad Throttler: reset"),this.startTime=null,this._totalTime=0,this.firstSuccessfulAdRequestMade||(this.firstSuccessfulAdRequestMade=!0),this.saveSessionTotal(this._totalTime.toFixed(2))}setupSession(){this.timerEnabled&&(this._totalTime=this.retrieveSessionTotal(0),this.totalTime>0&&(this.logger.log(`Ad Throttler: session exists: ${this.viewTimerLimit}, ${this.totalTime}`),this.firstSuccessfulAdRequestMade=!0))}retrieveSessionTotal(e){return parseFloat(function(e,t){try{return window.sessionStorage.getItem(e)||t}catch(s){let{warn:i}=console;return i(`Failed to get ${e} from session storage`,s),t}}(s,e.toString()))}saveSessionTotal(e){!function(e,t){try{window.sessionStorage.setItem(e,t)}catch(s){let{warn:i}=console;return i(`Failed to set key ${e} and value ${t} from session storage`,s),!1}}(s,e)}setupListeners(){if(this.timerEnabled){this.videoPlayer.events.on("playing",this.startTracking.bind(this)),this.videoPlayer.events.on("pause",this.updateTracking),this.videoPlayer.events.on("seeked",this.updateTracking),this.videoPlayer.events.on("ended",this.updateTracking),this.videoPlayer.events.on("abort",this.updateTracking),this.videoPlayer.events.on("emptied",this.updateTracking);let e=this.videoPlayer.events.on("playing",()=>{e&&(this.videoPlayer.events.unsubscribe(e),window.setInterval(this.updateTracking,5e3))});window.addEventListener("visibilitychange",this.updateTracking),this.videoPlayer.events.on("ads-ima-impression",()=>{this.reset()})}}startTracking(){this.startTime||this.firstSuccessfulAdRequestMade&&(this.logger.log("Ad Throttler: starting tracking"),this.startTime=new Date().getTime())}updateTracking(){if(!this.startTime||this.totalTime>=this.viewTimerLimit)return;this.logger.log("Ad Throttler: updating tracking time");let e=(new Date().getTime()-this.startTime)/1e3;this.updateTotal(e),this.startTime=null,this.videoPlayer.isPaused()||this.startTracking()}updateTotal(e){let t=this.retrieveSessionTotal(this.totalTime);this._totalTime=t+e,this.saveSessionTotal(this.totalTime.toFixed(2))}};function a(e){window.__tcfapi("removeEventListener",2,()=>{},e)}async function r(e=2e3){let t=Date.now();return await new Promise(i=>{let s=setInterval(()=>{"u">typeof window.__tcfapi?(clearInterval(s),i({success:!0})):Date.now()-t>e&&(clearInterval(s),i({success:!1,message:`__tcfApi failed to load after ${e} seconds`}))},100)})}function l(e,t){return new URLSearchParams(decodeURI(e)).get(t)}function o(e){return Object.assign(Error("videoPlayer.ads-error"),{detail:e})}async function d(e,t){let i=!1,s={binaryConsent:window.CMP_CONSENT,isGDPR:window.GDPR,tcfApi:typeof window?.__tcfapi,gdpr_consent:l(e,"gdpr_consent"),addtl_consent:l(e,"addtl_consent")};try{let e=!1,n="",l={message:n,...s,preventAdCall:!0,pingReturn:{cmpStatus:""}};if(!window.__tcfapi){let i=await r(t);if(e=i.success,n=i.message,l.message=n||"",!e)throw o(l)}window.__tcfapi&&e&&window.__tcfapi("ping",2,e=>{if(e?.cmpStatus!=="loaded")throw l.message="__tcfapi ping not yet loaded",l.pingReturn=e,o(l)}),await new Promise((e,t)=>{let n=setTimeout(()=>{i||(i=!0,t(o({message:"addEventListener did not complete within 500ms",...s})))},500);window.__tcfapi("addEventListener",2,(r,l)=>{if(!i){if(clearTimeout(n),i=!0,!r)return t(o({message:"No data returned to call to __tcfapi",...s,listenerSuccess:l,tcData:r}));if(!l||r?.eventStatus!=="tcloaded"&&r?.eventStatus!=="useractioncomplete")return t(o({message:"call to __tcfApi failed",...s,listenerSuccess:l,tcData:r}));if(!r?.purpose?.consents?.[1]||!r?.vendor?.consents?.[755])return t(o({message:"Incorrect consent purpose or google IMA vendor not approved",...s,listenerSuccess:l,purposeConsents:r?.purpose?.consents,vendorConsentGoogle:r?.vendor?.consents?.[755],vendorConsents:r?.vendor?.consents,preventAdCall:!0}));if(!r?.tcString||r?.tcString==="tcunavailable")return t(o({message:"TCF Consent string came back as tcunavailable",...s,listenerSuccess:l,tcString:r?.tcString}));a(r?.listenerId),e()}})})}catch(t){let e=t.detail??{message:`Miscellaneous error: ${t.message}`,...s};if(t?.detail?.tcData?.listenerId&&a(t?.detail?.tcData?.listenerId),window.dispatchEvent(new CustomEvent("videoPlayer.ads-error",{detail:e})),console.error(t,e),t.detail?.preventAdCall)return!0}return!1}},21533:(e,t,i)=>{"use strict";async function s(){let e=document.createElement("script");e.type="text/javascript",e.defer=!0,e.src="//imasdk.googleapis.com/js/sdkloader/ima3.js";let t=new Promise((t,i)=>{e.addEventListener("load",()=>{t()}),e.addEventListener("error",()=>{i()})});return document.head.appendChild(e),t}i.d(t,{c:()=>r});var n=(e=>(e.default="left-aligned-variant",e.variant_one="apple-esque-variant",e.variant_two="gradient-variant",e.variant_three="left-aligned-variant",e))(n||{}),a=class{constructor(e,t,i,s){this.videoPlayer=e,this.adApi=t,this.logger=s,this.countdownInterval=null,this.skipInterval=null,this.progressBarInterval=null,this.state={isControlBarSetup:!1,isInteractiveElementsSetup:!1,isInteractiveElementsActive:!1},this.customAdUiSettings={enableControlBar:!0,enableInteractiveElements:!0,...i},this.cssVariant=function(e="default"){let t=Array.isArray(e)?e.pop():e,i=Object.keys(n).find(e=>e===t);return typeof i>"u"?"":n[i]}(this.adApi?.settings?.adUiVariant),this.controlBarElements=this.createControlBarElements(),this.interactiveElements=this.createInteractiveElements(),this.clickTroughPanel=this.createClickThroughPanel(),this.updateCountdown=this.updateCountdown.bind(this),this.updateSkip=this.updateSkip.bind(this),this.updateProgressBar=this.updateProgressBar.bind(this)}init(){this.videoPlayer.events.on("ads-ima-start",()=>{let e=this.adApi.isUiDisabled();this.customAdUiSetup(),e&&this.showCustomUi()}),this.videoPlayer.events.on("ads-ima-complete",()=>{this.hideCustomUi()}),this.videoPlayer.events.on("ads-ima-skip",()=>{this.state.isInteractiveElementsActive&&this.hideCustomUi()}),this.videoPlayer.events.on("ads-ima-adError",()=>{this.hideCustomUi()}),this.videoPlayer.events.on("unmutechangeUser",()=>{this.adApi.setVolume(1),this.controlBarElements.volumeButton.classList.add("ima-unmuted")}),this.videoPlayer.events.on("mutechangeUser",()=>{this.adApi.setVolume(0),this.controlBarElements.volumeButton.classList.remove("ima-unmuted")})}showCustomUi(){this.state.isInteractiveElementsActive=!0,!0===this.adApi.isAdSkippable()?(this.interactiveElements.skipButton.style.display="block",this.skipInterval=window.setInterval(this.updateSkip,300)):this.interactiveElements.skipButton.style.display="none",this.countdownInterval=window.setInterval(this.updateCountdown,300)}hideCustomUi(){this.state.isInteractiveElementsActive=!1,this.countdownInterval&&window.clearInterval(this.countdownInterval),this.skipInterval&&window.clearInterval(this.skipInterval),this.progressBarInterval&&(window.clearInterval(this.progressBarInterval),this.controlBarElements.progressBar.style.width="0")}customAdUiSetup(){try{let e=this.adApi.isUiDisabled();this.state.isControlBarSetup||(this.controlBarDomSetup(),this.controlBarEventSetup(),this.state.isControlBarSetup=!0),this.customAdUiSettings.enableInteractiveElements&&!this.state.isInteractiveElementsSetup&&e&&(this.interactiveElementsDOMSetup(),this.interactiveElementsEventSetup(),this.state.isInteractiveElementsSetup=!0),this.perAdEventSetup()}catch(e){this.logger.error("Failed to setup custom ad ui",e)}}createControlBarElements(){let e=document.createElement("div"),t=document.createElement("button"),i=document.createElement("button"),s=document.createElement("button"),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),l=new Image,o=new Image,d=new Image,h=new Image,u=new Image,c=new Image;return l.alt="Play",o.alt="Pause",d.alt="Unmute",h.alt="Enter Fullscreen",u.alt="Exit Fullscreen",c.alt="Mute",l.width=20,l.height=20,o.width=20,o.height=20,d.width=20,d.height=20,h.width=20,h.height=20,u.width=20,u.height=20,c.width=20,c.height=20,e.className=`ima-control-bar-container playing ${this.cssVariant}`,l.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23ffffff" viewBox="0 0 256 256">%0A%09<path d="M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z">%0A</path></svg>',l.className="icon play-icon",o.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23ffffff" viewBox="0 0 256 256">%0A%09<path d="M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z"></path>%0A</svg>%0A',o.className="icon pause-icon",d.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="%23ffffff" viewBox="0 0 256 256">%0A%09<path d="M213.92,210.62a8,8,0,1,1-11.84,10.76L160,175.09v48.6a8.29,8.29,0,0,1-3.91,7.18,8,8,0,0,1-9-.56l-65.55-51A4,4,0,0,1,80,176.18V87.09L42.08,45.38A8,8,0,1,1,53.92,34.62Zm-27.21-55.46a8,8,0,0,0,11.29-.7,40,40,0,0,0,0-52.88,8,8,0,1,0-12,10.57,24,24,0,0,1,0,31.72A8,8,0,0,0,186.71,155.16Zm40.92-80.49a8,8,0,1,0-11.92,10.66,64,64,0,0,1,0,85.34,8,8,0,1,0,11.92,10.66,80,80,0,0,0,0-106.66ZM153,119.87a4,4,0,0,0,7-2.7V32.25a8.27,8.27,0,0,0-2.88-6.4,8,8,0,0,0-10-.16L103.83,59.33a4,4,0,0,0-.5,5.85ZM60,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H60a4,4,0,0,0,4-4V84A4,4,0,0,0,60,80Z"></path>%0A</svg>',d.className="icon mute-icon",c.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="%23ffffff" viewBox="0 0 256 256">%0A%09<path d="M160,32.25V223.69a8.29,8.29,0,0,1-3.91,7.18,8,8,0,0,1-9-.56l-65.57-51A4,4,0,0,1,80,176.16V79.84a4,4,0,0,1,1.55-3.15l65.57-51a8,8,0,0,1,10,.16A8.27,8.27,0,0,1,160,32.25ZM60,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H60a4,4,0,0,0,4-4V84A4,4,0,0,0,60,80Zm126.77,20.84a8,8,0,0,0-.72,11.3,24,24,0,0,1,0,31.72,8,8,0,1,0,12,10.58,40,40,0,0,0,0-52.88A8,8,0,0,0,186.74,100.84Zm40.89-26.17a8,8,0,1,0-11.92,10.66,64,64,0,0,1,0,85.34,8,8,0,1,0,11.92,10.66,80,80,0,0,0,0-106.66Z"></path>%0A</svg>',c.className="icon unmute-icon",h.src='data:image/svg+xml,<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">%0A<path d="M4.0415 7.79134H1.6665V1.83301H7.62484V4.20801H4.0415V7.79134ZM1.6665 12.5413H4.0415V16.1247H7.62484V18.4997H1.6665V12.5413ZM15.9582 4.20801H12.3748V1.83301H18.3332V7.79134H15.9582V4.20801ZM12.3748 18.4997V16.1247H15.9582V12.5413H18.3332V18.4997H12.3748Z" fill="white"/>%0A</svg>%0A',h.className="icon fullscreen-icon",u.src='data:image/svg+xml,<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">%0A<path d="M1.6665 5.73794H5.23794V2.1665H7.6189V8.1189H1.6665V5.73794ZM5.23794 15.2617H1.6665V12.8808H7.6189V18.8332H5.23794V15.2617ZM12.3808 2.1665H14.7617V5.73794H18.3332V8.1189H12.3808V2.1665ZM14.7617 15.2617V18.8332H12.3808V12.8808H18.3332V15.2617H14.7617Z" fill="white"/>%0A</svg>%0A',u.className="icon minimize-icon",t.className="ima-button ima-play",s.className="ima-button ima-volume",i.className="ima-button ima-fullscreen",a.className="ima-seek-bar",r.className="ima-progress-bar",a.appendChild(r),t.appendChild(l),t.appendChild(o),s.appendChild(d),s.appendChild(c),i.appendChild(h),i.appendChild(u),{playPauseButton:t,fullscreenButton:i,countdown:n,seekbar:a,progressBar:r,volumeButton:s,controlBarContainer:e}}createClickThroughPanel(){let e=document.createElement("div"),t=["clickThroughPanel",...this.cssVariant?[this.cssVariant]:[]];return e.classList.add(...t),e}createInteractiveElements(){let e=document.createElement("button"),t=document.createElement("button"),i=document.createElement("div");return e.className="flatGrey adClick",e.innerText="Learn More",t.className="flatGrey skipButton",i.className="flatGrey adCountdown",{learnMore:e,skipButton:t,adCountdown:i}}interactiveElementsDOMSetup(){let e=this.adApi.adContainer,{controlBarContainer:t}=this.controlBarElements,i=document.createElement("div");i.className="interactiveAdControls",i.innerHTML=`
            <div class="adText"><span>Ad</span></div>
    `,i.appendChild(this.interactiveElements.learnMore),i.appendChild(this.interactiveElements.adCountdown),i.appendChild(this.interactiveElements.skipButton),e.insertBefore(this.clickTroughPanel,e.firstChild),t.insertBefore(i,t.firstChild)}controlBarDomSetup(){let{controlBarContainer:e}=this.controlBarElements,t=document.createElement("div"),i=this.adApi.adContainer;t.className="ima-controls",e.appendChild(this.controlBarElements.seekbar),t.appendChild(this.controlBarElements.playPauseButton),t.appendChild(this.controlBarElements.volumeButton),t.appendChild(this.controlBarElements.fullscreenButton),e.appendChild(t),i.appendChild(e)}updateCountdown(){let e=this.adApi.totalAds(),t="Ad ";if(e&&e>1){let i=this.adApi.getAdPosition();t+=`${i} of ${e}`}let i=Math.ceil(this.adApi.getRemainingTime()||0);t+=` (${i}s)`,this.controlBarElements.countdown.innerText=t}updateSkip(){let e=this.adApi.getAdDuration(),t=this.adApi.getSkipTimeOffset(),i=this.adApi.getRemainingTime();if(e&&t&&i){let s=Math.ceil(t-(e-i));s>0?(this.interactiveElements.skipButton.innerText=`Skip in ${s}...`,this.interactiveElements.skipButton.style.cursor="default"):(this.interactiveElements.skipButton.innerText="Skip ad",this.interactiveElements.skipButton.style.cursor="pointer",this.skipInterval&&window.clearInterval(this.skipInterval))}}onAdPause(){this.adApi.pauseAd(),this.controlBarElements.controlBarContainer.classList.remove("playing"),this.controlBarElements.controlBarContainer.classList.add("paused")}onAdPlay(){this.adApi.playAd(),this.controlBarElements.controlBarContainer.classList.remove("paused"),this.controlBarElements.controlBarContainer.classList.add("playing")}perAdEventSetup(){this.adApi?.adsManager?.addEventListener(window.google.ima.AdEvent.Type.PAUSED,()=>{this.onAdPause()}),this.adApi?.adsManager?.addEventListener(window.google.ima.AdEvent.Type.RESUMED,()=>{this.onAdPlay()}),this.progressBarInterval=window.setInterval(this.updateProgressBar,250)}controlBarEventSetup(){this.controlBarElements.playPauseButton.addEventListener("click",()=>{this.adApi.isAdPlaying()?this.adApi.pauseAd():this.adApi.playAd()}),this.controlBarElements.volumeButton.addEventListener("click",()=>{0===this.adApi.getVolume()?(this.adApi.setVolume(1),this.videoPlayer.unmute(),this.controlBarElements.volumeButton.classList.add("ima-unmuted")):(this.adApi.setVolume(0),this.videoPlayer.mute(),this.controlBarElements.volumeButton.classList.remove("ima-unmuted"))}),this.controlBarElements.fullscreenButton.addEventListener("click",()=>{this.adApi.toggleFullscreen()}),document.addEventListener("fullscreenchange",()=>{this.controlBarElements.fullscreenButton.classList.toggle("fullscreen")}),this.adApi.adContainer.addEventListener("mousemove",()=>{this.showControlBarContainer()}),this.adApi.adContainer.addEventListener("mouseleave",()=>{this.hideControlBarContainer()}),this.controlBarElements.controlBarContainer.addEventListener("focusin",()=>{this.showControlBarContainer()})}updateProgressBar(){let e=this.adApi.getRemainingTime(),t=this.adApi.getAdDuration();t&&e&&(this.controlBarElements.progressBar.style.width=`${(t-e)/t*100}%`)}showControlBarContainer(){setTimeout(()=>{this.controlBarElements.controlBarContainer.classList.add("ima-showing")},0)}hideControlBarContainer(){this.controlBarElements.controlBarContainer.classList.remove("ima-showing")}interactiveElementsEventSetup(){let e=e=>{e.stopPropagation(),this.adApi.learnMoreClicked(),this.adApi.pauseAd()};this.interactiveElements.skipButton.addEventListener("click",()=>{this.adApi.getAdSkippableState()&&this.adApi.skipAd()}),this.interactiveElements.learnMore.addEventListener("click",t=>{e(t)}),this.clickTroughPanel.addEventListener("click",()=>{this.adApi.isAdPlaying()?this.adApi.pauseAd():this.adApi.playAd()});let t=i=>{e(i),this.clickTroughPanel.removeEventListener("click",t)};this.clickTroughPanel.addEventListener("click",t)}},r=class{constructor(e,t,i){this.videoPlayer=e,this._adContainer=document.createElement("div"),this._settings=t,this.logger=i,this.state={isAdPlaying:!1,isAdLoading:!1,adsLoaded:!1,adsActive:!1},this.currentAd=null,this.onAdsManagerLoaded=this.onAdsManagerLoaded.bind(this),this.onAdError=this.onAdError.bind(this)}get adsManager(){return this._adsManager}set adsManager(e){this._adsManager=e}get adContainer(){return this._adContainer}set adContainer(e){this._adContainer=e}get settings(){return this._settings}set settings(e){this._settings={...this._settings,...e}}async setup(){window?.google?.ima||await s(),this.adContainer.className="ima-ad-container",this.adContainer.style.display="none",this.videoPlayer.element.insertAdjacentElement("afterend",this.adContainer),window.google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=new window.google.ima.AdDisplayContainer(this.adContainer,this.videoPlayer.element),this.settings.customAdUi?.enableCustomAdUi&&new a(this.videoPlayer,this,this.settings.customAdUi||{},this.logger).init()}initializeIMA(){this.adsLoader||(this.adsLoader=new window.google.ima.AdsLoader(this.adDisplayContainer)),this.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1),this.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1)}setupResizeObservers(){let e=null,{element:t}=this.videoPlayer;if("ResizeObserver"in window){let i={height:t.offsetHeight,width:t.offsetWidth};e=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:s,contentRect:n}=e;s?(s[0].blockSize!==i.height||s[0].inlineSize!==i.width)&&(i.height=s[0].blockSize,i.width=s[0].inlineSize,this.resizeAds(t)):n&&(n.height!==i.height||n.width!==i.width)&&(i.height=n.height,i.width=n.width,this.resizeAds(t))})})}return e}requestAds(e){let{element:t}=this.videoPlayer,{omidOptions:i}=this.settings,s=new window.google.ima.AdsRequest;s.adTagUrl=e??this.settings.adTag,i&&Object.entries(i).forEach(([e,t])=>{s.omidAccessModeRules[e]=t}),s.linearAdSlotWidth=t.clientWidth,s.linearAdSlotHeight=t.clientHeight,s.nonLinearAdSlotWidth=t.clientWidth,s.nonLinearAdSlotHeight=t.clientHeight/3,s.setAdWillPlayMuted(this.getWillAdPlayMuted()),this.state.isAdLoading=!0,this.adsLoader.requestAds(s)}startAdPlayback(){if(this.state.adsLoaded)return;let{element:e}=this.videoPlayer;this.state.adsLoaded=!0,this.adDisplayContainer.initialize();let t=e.clientWidth,i=e.clientHeight;try{this.adsManager.init(t,i,window.google.ima.ViewMode.NORMAL),this.adsManager.start(),this.adContainer.style.display="initial"}catch(e){this.logger.error("AdsManager could not be started",e),this.videoPlayer.setPlayerVisibility(!0),this.videoPlayer.play()}}resizeAds(e){if(this.adsManager){let t=e.clientWidth,i=e.clientHeight;this.adsManager.resize(t,i,window.google.ima.ViewMode.NORMAL)}}pauseAd(){this.adsManager&&(this.adsManager.pause(),this.state.isAdPlaying=!1,this.videoPlayer.events.emit("ads-ima-pause"))}playAd(){this.adsManager&&(this.adsManager.resume(),this.state.isAdPlaying=!0,this.videoPlayer.events.emit("ads-ima-resume"))}isAdPlaying(){return this.state.isAdPlaying}isAdActive(){return this.state.adsActive}isAdLoading(){return this.state.isAdLoading}totalAds(){return this.currentAd?this.currentAd.getAdPodInfo().getTotalAds():null}getAdPosition(){return this.currentAd?this.currentAd.getAdPodInfo().getAdPosition():null}getRemainingTime(){return this.adsManager?this.adsManager.getRemainingTime():null}getAdDuration(){return this.currentAd?this.currentAd.getDuration():null}isAdSkippable(){return this.currentAd?-1!==this.currentAd.getSkipTimeOffset():null}getAdSkippableState(){return this.adsManager?this.adsManager.getAdSkippableState():null}skipAd(){this.adsManager&&this.adsManager.skip()}learnMoreClicked(){this.adsManager.clicked()}isUiDisabled(){return this.currentAd?.isUiDisabled()}getSkipTimeOffset(){return this.currentAd?this.currentAd.getSkipTimeOffset():null}isAdLinear(){return this.currentAd?this.currentAd.isLinear():null}setVolume(e){this.adsManager&&this.adsManager.setVolume(e)}getVolume(){return this.adsManager?this.adsManager.getVolume():null}contentCompleted(){this.adsLoader.contentComplete()}destroyAdsManager(){this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)}fullscreen(){let e=this.adContainer;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}getWillAdPlayMuted(){let{adWillPlayMuted:e}=this.settings;return void 0!==e?e:this.videoPlayer.isMuted()}minimize(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}isFullscreen(){return!!document.fullscreenElement||!!document.webkitFullscreenElement||!!document.mozFullScreenElement||!!document.msFullscreenElement}toggleFullscreen(){this.isFullscreen()?this.minimize():this.fullscreen()}onAdsManagerLoaded(e){let{element:t}=this.videoPlayer,i=new window.google.ima.AdsRenderingSettings;i.enablePreloading=!0,this.settings.customAdUi?.enableCustomAdUi?i.disableUi=!0:i.useStyledLinearAds=!0,this.adsManager=e.getAdsManager(this.videoPlayer.element,i);let s=this.setupResizeObservers(),n=function(e,t,i){var s,n=i||{},a=n.noTrailing,r=void 0!==a&&a,l=n.noLeading,o=void 0!==l&&l,d=n.debounceMode,h=void 0===d?void 0:d,u=!1,c=0;function g(){s&&clearTimeout(s)}function p(){for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];var l=this,d=Date.now()-c;function p(){c=Date.now(),t.apply(l,n)}function m(){s=void 0}!u&&(o||!h||s||p(),g(),void 0===h&&d>e?o?(c=Date.now(),r||(s=setTimeout(h?m:p,e))):p():!0!==r&&(s=setTimeout(h?m:p,void 0===h?e-d:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly;g(),u=!(void 0!==t&&t)},p}(1e3,()=>{this.resizeAds(t)});this.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,e=>{this.onAdError(e),s&&s.disconnect(),window.removeEventListener("resize",n)}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,()=>{this.state.adsActive=!0,this.state.isAdLoading=!1,this.videoPlayer.pause(),this.videoPlayer.setPlayerVisibility(!1)}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,()=>{this.state.adsActive=!1,this.videoPlayer.setPlayerVisibility(!0),this.videoPlayer.play()}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,()=>{this.state.isAdPlaying=!1,this.videoPlayer.events.emit("ads-ima-complete"),this.adContainer.style.display="none",this.destroyAdsManager(),this.state.adsLoaded=!1}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,e=>{this.adContainer.style.display="block",this.currentAd=e.getAd(),this.videoPlayer.events.emit("ads-ima-start"),this.state.isAdPlaying=!0,this.logger.isLogAllLevel()&&this.debugLogging()}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.AD_CAN_PLAY,()=>{this.videoPlayer.events.emit("ads-ima-adCanPlay"),s&&s.observe(this.videoPlayer.element),window.addEventListener("resize",n,{passive:!0})}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.CLICK,()=>{this.videoPlayer.events.emit("ads-ima-click")}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,()=>{this.videoPlayer.events.emit("ads-ima-skip")}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.IMPRESSION,()=>{this.videoPlayer.events.emit("ads-ima-impression")}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.FIRST_QUARTILE,()=>{this.videoPlayer.events.emit("ads-ima-firstquartile")}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.MIDPOINT,()=>{this.videoPlayer.events.emit("ads-ima-midpoint")}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.THIRD_QUARTILE,()=>{this.videoPlayer.events.emit("ads-ima-thirdquartile")}),this.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,()=>{this.currentAd=null,this.state.isAdPlaying=!1,this.videoPlayer.events.emit("ads-ima-complete"),s&&s.disconnect(),window.removeEventListener("resize",n)}),document.addEventListener("fullscreenchange",()=>{setTimeout(()=>{this.resizeAds(this.adContainer)},1e3)}),this.startAdPlayback()}onAdError(e){this.logger.error("Ad Error:",e.getError()),this.videoPlayer.events.emit("ads-ima-adError"),this.state.isAdLoading=!1,this.state.isAdPlaying=!1,this.state.adsActive=!1,this.state.adsLoaded=!1,this.destroyAdsManager(),this.adDisplayContainer&&(this.adContainer.style.display="none"),this.videoPlayer.setPlayerVisibility(!0),this.videoPlayer.play()}debugLogging(){try{let e={"1. currentAd.isUIDisabled":this.isUiDisabled(),"2. currentAd.isAdSippable":this.isAdSkippable()};this.isAdLinear()&&this.currentAd&&(e["3. Ad Information"]={adTag:this.settings.adTag,adId:this.currentAd.getAdId(),creativeId:this.currentAd.getCreativeId(),dealId:this.currentAd.getDealId(),adSystem:this.currentAd.getAdSystem()}),this.logger.log("Ad Debug Information",e)}catch(e){this.logger.error("Failed to log ad debug message",e)}}},l=(e=>(e.DOMAIN="domain",e.FULL="full",e.LIMITED="limited",e))(l||{})},39762:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var s=Object.defineProperty,n=(e,t,i)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,a=(e,t,i)=>n(e,"symbol"!=typeof t?t+"":t,i);let r={"hearst-player-provider":{"en-us":async()=>i.e(57207).then(i.bind(i,57207)),"es-es":async()=>i.e(99598).then(i.bind(i,99598)),"it-it":async()=>i.e(6484).then(i.bind(i,6484)),"ja-jp":async()=>i.e(10799).then(i.bind(i,10799)),"nl-nl":async()=>i.e(42562).then(i.bind(i,42562)),"zh-cn":async()=>i.e(91009).then(i.bind(i,91009)),"zh-tw":async()=>i.e(96133).then(i.bind(i,96133))},"video-player-addons":{"en-us":async()=>i.e(39815).then(i.bind(i,39815)),"es-es":async()=>i.e(11294).then(i.bind(i,11294)),"it-it":async()=>i.e(14672).then(i.bind(i,14672)),"ja-jp":async()=>i.e(90131).then(i.bind(i,90131)),"nl-nl":async()=>i.e(51045).then(i.bind(i,51045)),"zh-cn":async()=>i.e(91009).then(i.bind(i,91009)),"zh-tw":async()=>i.e(242).then(i.bind(i,242))}},l=class e{static async loadModules(t){let i=(t||e.getCurrentLocale())?.toLowerCase();return Promise.all(Object.entries(r).map(([t,s])=>(s[i]||s["en-us"])().then(i=>e.modules.set(t,i))))}static async load(t,i){return(await Promise.all([t,e.loadModules(i)]))[0]}static getModule(t){return e.modules.get(t)}static getCurrentLocale(){return e.language}static setCurrentLocale(t){e.language=t}};a(l,"language","en-us"),a(l,"modules",new Map);var o=l},48930:()=>{},63763:()=>{},93740:()=>{}}]);